
<div class="bg" style="width:100%;height:100%;">
<div style="padding:100px 100px;">
<a href="javascript:void(0);"
    onclick="updateGlobalRate(1,'1~10排名')"
	class="button button-3d button-primary button-rounded">1~10排名</a>
	<a href="javascript:void(0);"
    onclick="updateGlobalRate(2,'1~10两面反')"
	class="button button-3d button-primary button-rounded">1~10两面反</a>
<a href="javascript:void(0);"
    onclick="updateGlobalRate(3,'冠亚和结果')"
	class="button button-3d button-primary button-rounded">冠亚和结果</a>
<a href="javascript:void(0);"
    onclick="updateGlobalRate(4,'冠亚和两面反')"
	class="button button-3d button-primary button-rounded">冠亚和两面反</a>
</div>
</div>

<script>
function updateGlobalRate(type, title){
	$.messager.prompt('设置【'+title+'】 的赔率', '请输入赔率:', function(r,e){
		if (r){
			　if (!(/^\d+\.?\d{0,2}$/.test(r))) { 
				updateGlobalRate(type);
			　　　　　　alert('请输入2位小数的正数'); 
			　　　　　　return false; 
			　　　　}else { 
				$.ajax({type:"put",contentType:"application/json;charset=utf-8", url:"/global/update-rate",data:JSON.stringify({"type":type,"rate":r})}).done(function(data){
					alert(data.msg);
				})
			　　　　} 
			
		}else{
			if(r != undefined){
				updateGlobalRate(type);
				alert("赔率不能为空");
			}
			
		}
	});
}
</script>